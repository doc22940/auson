{"version":3,"sources":["webpack:///./node_modules/material-design-lite/src/textfield/textfield.js","webpack:///./node_modules/core-js/modules/es6.object.is.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///./node_modules/core-js/modules/es7.promise.finally.js","webpack:///./node_modules/material-design-lite/src/progress/progress.js","webpack:///./src/pages/index.js","webpack:///./node_modules/material-design-lite/src/mdlComponentHandler.js","webpack:///./node_modules/material-design-lite/src/spinner/spinner.js","webpack:///./src/components/article-list.js","webpack:///./node_modules/material-design-lite/src/button/button.js","webpack:///./node_modules/dialog-polyfill/dialog-polyfill.js"],"names":["MaterialTextfield","element","this","element_","maxRows","Constant_","NO_MAX_ROWS","init","window","prototype","MAX_ROWS_ATTRIBUTE","CssClasses_","LABEL","INPUT","IS_DIRTY","IS_FOCUSED","IS_DISABLED","IS_INVALID","IS_UPGRADED","HAS_PLACEHOLDER","onKeyDown_","event","currentRowCount","target","value","split","length","keyCode","preventDefault","onFocus_","classList","add","onBlur_","remove","onReset_","updateClasses_","checkDisabled","checkValidity","checkDirty","checkFocus","input_","disabled","Boolean","querySelector","validity","valid","disable","enable","change","label_","hasAttribute","parseInt","getAttribute","isNaN","boundUpdateClassesHandler","bind","boundFocusHandler","boundBlurHandler","boundResetHandler","addEventListener","boundKeyDownHandler","invalid","contains","focus","componentHandler","register","constructor","classAsString","cssClass","widget","$export","S","is","module","exports","Error","core","global","speciesConstructor","promiseResolve","P","R","onFinally","C","Promise","isFunction","then","x","e","MaterialProgress","INDETERMINATE_CLASS","setProgress","p","progressbar_","style","width","setBuffer","bufferbar_","auxbar_","el","document","createElement","className","appendChild","Home","data","dispatch","useDispatch","privateEdges","useSelector","state","isLoggedIn","useLoginStatus","useEffect","ui","firebaseui","AuthUI","firebase","start","signInSuccessUrl","signInOptions","GoogleAuthProvider","PROVIDER_ID","delete","getAllPrivate","setPrivateEdges","isIndex","charSet","type","rel","href","role","aria-label","edges","posts","to","letters","id","isFirebase","query","upgradeDom","optJsClass","optCssClass","upgradeElement","upgradeElements","elements","upgradeAllRegistered","registerUpgradedCallback","jsClass","callback","config","downgradeElements","nodes","registeredComponents_","createdComponents_","findRegisteredClass_","name","optReplace","i","getUpgradedListOfElement_","dataUpgraded","isElementUpgraded_","indexOf","createEvent_","eventType","bubbles","cancelable","CustomEvent","ev","createEvent","initEvent","upgradeDomInternal","registeredClass","querySelectorAll","n","upgradeElementInternal","Element","upgradingEv","dispatchEvent","defaultPrevented","upgradedList","classesToUpgrade","push","forEach","component","setAttribute","join","instance","classConstructor","j","m","callbacks","upgradedEv","deconstructComponentInternal","componentIndex","splice","upgrades","componentPlace","upgradeElementsInternal","Array","isArray","slice","call","HTMLElement","children","regClass","newConfig","item","hasOwnProperty","downgradeNode","node","filter","NodeList","Node","ComponentConfigPublic","ComponentConfig","Component","documentElement","MaterialSpinner","MDL_SPINNER_LAYER_COUNT","MDL_SPINNER_LAYER","MDL_SPINNER_CIRCLE_CLIPPER","MDL_SPINNER_CIRCLE","MDL_SPINNER_GAP_PATCH","MDL_SPINNER_LEFT","MDL_SPINNER_RIGHT","createLayer","index","layer","leftClipper","gapPatch","rightClipper","circleOwners","circle","stop","ArticleList","map","key","fields","slug","css","rhythm","frontmatter","title","date","replace","by","excerpt","MaterialButton","RIPPLE_EFFECT","RIPPLE_CONTAINER","RIPPLE","blurHandler_","blur","rippleContainer","rippleElement_","boundRippleBlurHandler","boundButtonBlurHandler","supportCustomEvent","findNearestDialog","localName","parentElement","safeBlur","body","inNodeList","nodeList","isFormMethodDialog","toLowerCase","dialogPolyfillInfo","dialog","dialog_","replacedStyleTop_","openAsModal_","show","showModal","close","returnValue","MutationObserver","maybeHideModal","observe","attributes","attributeFilter","timeout","removed","cb","downgradeModal","delayModel","cand","substr","clearTimeout","setTimeout","Object","defineProperty","set","setOpen","get","backdrop_","backdropClick_","initCustomEvent","detail","Event","zIndex","top","parentNode","removeChild","dialogPolyfill","dm","removeDialog","removeAttribute","fake","insertBefore","firstChild","tabIndex","redirectedEvent","initMouseEvent","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","stopPropagation","focus_","activeElement","updateZIndex","dialogZ","backdropZ","open","pushDialog","s","getComputedStyle","k","ok","undefined","opacity","position","webkitOverflowScrolling","createsStackingContext","console","warn","needsCentering","reposition","nextSibling","opt_returnValue","closeEvent","scrollTop","topValue","innerHeight","offsetHeight","Math","max","styleSheets","styleSheet","cssRules","rule","selectedNodes","selectorText","cssTop","getPropertyValue","cssBottom","bottom","isInlinePositionSetByStylesheet","HTMLDialogElement","forceRegisterDialog","pendingDialogStack","checkDOM","checkDOM_","overlay","forwardTab_","handleKey_","handleFocus_","zIndexLow_","zIndexHigh_","mo_","records","rec","c","removedNodes","concat","DialogManager","blockDocument","childList","subtree","unblockDocument","removeEventListener","disconnect","updateStacking","dpi","last","containedByTopDialog_","candidate","compareDocumentPosition","DOCUMENT_POSITION_PRECEDING","cancelEvent","allowed","unshift","formSubmitter","useValue","testForm","method","methodDescriptor","getOwnPropertyDescriptor","HTMLFormElement","realGet","realSet","v","form","offsetX","offsetY","nativeFormSubmit","submit","registerDialog"],"mappings":"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","file":"component---src-pages-index-js-5eb4d9f2841c01c8b9e3.js","sourcesContent":["require(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n(function () {\n  'use strict';\n  /**\n   * Class constructor for Textfield MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\n\n  var MaterialTextfield = function MaterialTextfield(element) {\n    this.element_ = element;\n    this.maxRows = this.Constant_.NO_MAX_ROWS; // Initialize instance.\n\n    this.init();\n  };\n\n  window['MaterialTextfield'] = MaterialTextfield;\n  /**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\n\n  MaterialTextfield.prototype.Constant_ = {\n    NO_MAX_ROWS: -1,\n    MAX_ROWS_ATTRIBUTE: 'maxrows'\n  };\n  /**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\n\n  MaterialTextfield.prototype.CssClasses_ = {\n    LABEL: 'mdl-textfield__label',\n    INPUT: 'mdl-textfield__input',\n    IS_DIRTY: 'is-dirty',\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_INVALID: 'is-invalid',\n    IS_UPGRADED: 'is-upgraded',\n    HAS_PLACEHOLDER: 'has-placeholder'\n  };\n  /**\n   * Handle input being entered.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\n\n  MaterialTextfield.prototype.onKeyDown_ = function (event) {\n    var currentRowCount = event.target.value.split('\\n').length;\n\n    if (event.keyCode === 13) {\n      if (currentRowCount >= this.maxRows) {\n        event.preventDefault();\n      }\n    }\n  };\n  /**\n   * Handle focus.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\n\n\n  MaterialTextfield.prototype.onFocus_ = function (event) {\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n  };\n  /**\n   * Handle lost focus.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\n\n\n  MaterialTextfield.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n  };\n  /**\n   * Handle reset event from out side.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\n\n\n  MaterialTextfield.prototype.onReset_ = function (event) {\n    this.updateClasses_();\n  };\n  /**\n   * Handle class updates.\n   *\n   * @private\n   */\n\n\n  MaterialTextfield.prototype.updateClasses_ = function () {\n    this.checkDisabled();\n    this.checkValidity();\n    this.checkDirty();\n    this.checkFocus();\n  }; // Public methods.\n\n  /**\n   * Check the disabled state and update field accordingly.\n   *\n   * @public\n   */\n\n\n  MaterialTextfield.prototype.checkDisabled = function () {\n    if (this.input_.disabled) {\n      this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n      this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n  };\n\n  MaterialTextfield.prototype['checkDisabled'] = MaterialTextfield.prototype.checkDisabled;\n  /**\n  * Check the focus state and update field accordingly.\n  *\n  * @public\n  */\n\n  MaterialTextfield.prototype.checkFocus = function () {\n    if (Boolean(this.element_.querySelector(':focus'))) {\n      this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n    } else {\n      this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n    }\n  };\n\n  MaterialTextfield.prototype['checkFocus'] = MaterialTextfield.prototype.checkFocus;\n  /**\n   * Check the validity state and update field accordingly.\n   *\n   * @public\n   */\n\n  MaterialTextfield.prototype.checkValidity = function () {\n    if (this.input_.validity) {\n      if (this.input_.validity.valid) {\n        this.element_.classList.remove(this.CssClasses_.IS_INVALID);\n      } else {\n        this.element_.classList.add(this.CssClasses_.IS_INVALID);\n      }\n    }\n  };\n\n  MaterialTextfield.prototype['checkValidity'] = MaterialTextfield.prototype.checkValidity;\n  /**\n   * Check the dirty state and update field accordingly.\n   *\n   * @public\n   */\n\n  MaterialTextfield.prototype.checkDirty = function () {\n    if (this.input_.value && this.input_.value.length > 0) {\n      this.element_.classList.add(this.CssClasses_.IS_DIRTY);\n    } else {\n      this.element_.classList.remove(this.CssClasses_.IS_DIRTY);\n    }\n  };\n\n  MaterialTextfield.prototype['checkDirty'] = MaterialTextfield.prototype.checkDirty;\n  /**\n   * Disable text field.\n   *\n   * @public\n   */\n\n  MaterialTextfield.prototype.disable = function () {\n    this.input_.disabled = true;\n    this.updateClasses_();\n  };\n\n  MaterialTextfield.prototype['disable'] = MaterialTextfield.prototype.disable;\n  /**\n   * Enable text field.\n   *\n   * @public\n   */\n\n  MaterialTextfield.prototype.enable = function () {\n    this.input_.disabled = false;\n    this.updateClasses_();\n  };\n\n  MaterialTextfield.prototype['enable'] = MaterialTextfield.prototype.enable;\n  /**\n   * Update text field value.\n   *\n   * @param {string} value The value to which to set the control (optional).\n   * @public\n   */\n\n  MaterialTextfield.prototype.change = function (value) {\n    this.input_.value = value || '';\n    this.updateClasses_();\n  };\n\n  MaterialTextfield.prototype['change'] = MaterialTextfield.prototype.change;\n  /**\n   * Initialize element.\n   */\n\n  MaterialTextfield.prototype.init = function () {\n    if (this.element_) {\n      this.label_ = this.element_.querySelector('.' + this.CssClasses_.LABEL);\n      this.input_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n\n      if (this.input_) {\n        if (this.input_.hasAttribute(\n        /** @type {string} */\n        this.Constant_.MAX_ROWS_ATTRIBUTE)) {\n          this.maxRows = parseInt(this.input_.getAttribute(\n          /** @type {string} */\n          this.Constant_.MAX_ROWS_ATTRIBUTE), 10);\n\n          if (isNaN(this.maxRows)) {\n            this.maxRows = this.Constant_.NO_MAX_ROWS;\n          }\n        }\n\n        if (this.input_.hasAttribute('placeholder')) {\n          this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER);\n        }\n\n        this.boundUpdateClassesHandler = this.updateClasses_.bind(this);\n        this.boundFocusHandler = this.onFocus_.bind(this);\n        this.boundBlurHandler = this.onBlur_.bind(this);\n        this.boundResetHandler = this.onReset_.bind(this);\n        this.input_.addEventListener('input', this.boundUpdateClassesHandler);\n        this.input_.addEventListener('focus', this.boundFocusHandler);\n        this.input_.addEventListener('blur', this.boundBlurHandler);\n        this.input_.addEventListener('reset', this.boundResetHandler);\n\n        if (this.maxRows !== this.Constant_.NO_MAX_ROWS) {\n          // TODO: This should handle pasting multi line text.\n          // Currently doesn't.\n          this.boundKeyDownHandler = this.onKeyDown_.bind(this);\n          this.input_.addEventListener('keydown', this.boundKeyDownHandler);\n        }\n\n        var invalid = this.element_.classList.contains(this.CssClasses_.IS_INVALID);\n        this.updateClasses_();\n        this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n\n        if (invalid) {\n          this.element_.classList.add(this.CssClasses_.IS_INVALID);\n        }\n\n        if (this.input_.hasAttribute('autofocus')) {\n          this.element_.focus();\n          this.checkFocus();\n        }\n      }\n    }\n  }; // The component registers itself. It can assume componentHandler is available\n  // in the global scope.\n\n\n  componentHandler.register({\n    constructor: MaterialTextfield,\n    classAsString: 'MaterialTextfield',\n    cssClass: 'mdl-js-textfield',\n    widget: true\n  });\n})();","// 19.1.3.10 Object.is(value1, value2)\nvar $export = require('./_export');\n$export($export.S, 'Object', { is: require('./_same-value') });\n","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n(function () {\n  'use strict';\n  /**\n   * Class constructor for Progress MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\n\n  var MaterialProgress = function MaterialProgress(element) {\n    this.element_ = element; // Initialize instance.\n\n    this.init();\n  };\n\n  window['MaterialProgress'] = MaterialProgress;\n  /**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\n\n  MaterialProgress.prototype.Constant_ = {};\n  /**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\n\n  MaterialProgress.prototype.CssClasses_ = {\n    INDETERMINATE_CLASS: 'mdl-progress__indeterminate'\n  };\n  /**\n   * Set the current progress of the progressbar.\n   *\n   * @param {number} p Percentage of the progress (0-100)\n   * @public\n   */\n\n  MaterialProgress.prototype.setProgress = function (p) {\n    if (this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)) {\n      return;\n    }\n\n    this.progressbar_.style.width = p + '%';\n  };\n\n  MaterialProgress.prototype['setProgress'] = MaterialProgress.prototype.setProgress;\n  /**\n   * Set the current progress of the buffer.\n   *\n   * @param {number} p Percentage of the buffer (0-100)\n   * @public\n   */\n\n  MaterialProgress.prototype.setBuffer = function (p) {\n    this.bufferbar_.style.width = p + '%';\n    this.auxbar_.style.width = 100 - p + '%';\n  };\n\n  MaterialProgress.prototype['setBuffer'] = MaterialProgress.prototype.setBuffer;\n  /**\n   * Initialize element.\n   */\n\n  MaterialProgress.prototype.init = function () {\n    if (this.element_) {\n      var el = document.createElement('div');\n      el.className = 'progressbar bar bar1';\n      this.element_.appendChild(el);\n      this.progressbar_ = el;\n      el = document.createElement('div');\n      el.className = 'bufferbar bar bar2';\n      this.element_.appendChild(el);\n      this.bufferbar_ = el;\n      el = document.createElement('div');\n      el.className = 'auxbar bar bar3';\n      this.element_.appendChild(el);\n      this.auxbar_ = el;\n      this.progressbar_.style.width = '0%';\n      this.bufferbar_.style.width = '100%';\n      this.auxbar_.style.width = '0%';\n      this.element_.classList.add('is-upgraded');\n    }\n  }; // The component registers itself. It can assume componentHandler is available\n  // in the global scope.\n\n\n  componentHandler.register({\n    constructor: MaterialProgress,\n    classAsString: 'MaterialProgress',\n    cssClass: 'mdl-js-progress',\n    widget: true\n  });\n})();","import * as firebase from \"firebase/app\";\nimport * as firebaseui from \"firebaseui\";\nimport ArticleList from \"../components/article-list\";\nimport Layout from \"../components/layout\";\nimport React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Helmet } from \"react-helmet\";\nimport { graphql, Link } from \"gatsby\";\n\nimport \"../firebase\";\nimport useLoginStatus from \"../utils/useLoginStatus\";\nimport { getAllPrivate } from \"../utils/getPrivate\";\nimport { setPrivateEdges } from \"../state/app\";\n\nexport default function Home({ data }) {\n  const dispatch = useDispatch();\n  const privateEdges = useSelector(state => state.privateEdges);\n\n  const isLoggedIn = useLoginStatus();\n\n  useEffect(() => {\n    const ui = new firebaseui.auth.AuthUI(firebase.auth());\n\n    ui.start(\"#firebaseui-auth-container\", {\n      signInSuccessUrl:\n        process.env.NODE_ENV === \"development\"\n          ? \"http://localhost:8000/#for-us\"\n          : \"https://auson.love/#for-us\",\n      signInOptions: [firebase.auth.GoogleAuthProvider.PROVIDER_ID],\n    });\n\n    return () => {\n      ui.delete();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isLoggedIn && !privateEdges) {\n      getAllPrivate().then(privateEdges => {\n        dispatch(setPrivateEdges(privateEdges));\n      });\n    }\n  }, [isLoggedIn, privateEdges, dispatch]);\n\n  return (\n    <Layout isIndex={true}>\n      <Helmet>\n        <meta charSet=\"utf-8\" />\n        <link\n          type=\"text/css\"\n          rel=\"stylesheet\"\n          href=\"https://www.gstatic.com/firebasejs/ui/4.5.0/firebase-ui-auth.css\"\n        />\n      </Helmet>\n      <div>\n        <h1>\n          <span role=\"img\" aria-label=\"mailbox\">\n            📬\n          </span>{\" \"}\n          Posts\n        </h1>\n        <ArticleList edges={data.posts.edges} />\n        <Link to={`/posts`}>All posts...</Link>\n      </div>\n      <h1>\n        <span role=\"img\" aria-label=\"letter\">\n          💌\n        </span>{\" \"}\n        Letters\n      </h1>\n      <ArticleList edges={data.letters.edges} />\n      <Link to={`/letters`}>All letters...</Link>\n      <h1 id=\"for-us\">\n        <span role=\"img\" aria-label=\"letter\">\n          🙈\n        </span>{\" \"}\n        For Us\n      </h1>\n      {isLoggedIn == null && <div id=\"firebaseui-auth-container\"></div>}\n      {isLoggedIn === false && (\n        <p>You do not have sufficient permissions to view this section!</p>\n      )}\n      {isLoggedIn && !privateEdges && <p>Loading...</p>}\n      {privateEdges && <ArticleList edges={privateEdges} isFirebase={true} />}\n    </Layout>\n  );\n}\n\nexport const query = graphql`\n  query {\n    posts: allMarkdownRemark(\n      filter: { fileAbsolutePath: { regex: \"/posts/\" } }\n      limit: 5\n      sort: { fields: frontmatter___date, order: DESC }\n    ) {\n      edges {\n        node {\n          id\n          frontmatter {\n            title\n            date(formatString: \"DD MMMM, YYYY\")\n          }\n          fields {\n            slug\n          }\n          excerpt\n        }\n      }\n    }\n    letters: allMarkdownRemark(\n      filter: { fileAbsolutePath: { regex: \"/letters/\" } }\n      limit: 5\n      sort: { fields: frontmatter___date, order: DESC }\n    ) {\n      edges {\n        node {\n          id\n          frontmatter {\n            title\n            date(formatString: \"DD MMMM, YYYY\")\n            by\n          }\n          fields {\n            slug\n          }\n          excerpt\n        }\n      }\n    }\n  }\n`;\n","require(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * A component handler interface using the revealing module design pattern.\n * More details on this design pattern here:\n * https://github.com/jasonmayes/mdl-component-design-pattern\n *\n * @author Jason Mayes.\n */\n\n/* exported componentHandler */\n// Pre-defining the componentHandler interface, for closure documentation and\n// static verification.\nvar componentHandler = {\n  /**\n   * Searches existing DOM for elements of our component type and upgrades them\n   * if they have not already been upgraded.\n   *\n   * @param {string=} optJsClass the programatic name of the element class we\n   * need to create a new instance of.\n   * @param {string=} optCssClass the name of the CSS class elements of this\n   * type will have.\n   */\n  upgradeDom: function upgradeDom(optJsClass, optCssClass) {},\n\n  /**\n   * Upgrades a specific element rather than all in the DOM.\n   *\n   * @param {!Element} element The element we wish to upgrade.\n   * @param {string=} optJsClass Optional name of the class we want to upgrade\n   * the element to.\n   */\n  upgradeElement: function upgradeElement(element, optJsClass) {},\n\n  /**\n   * Upgrades a specific list of elements rather than all in the DOM.\n   *\n   * @param {!Element|!Array<!Element>|!NodeList|!HTMLCollection} elements\n   * The elements we wish to upgrade.\n   */\n  upgradeElements: function upgradeElements(elements) {},\n\n  /**\n   * Upgrades all registered components found in the current DOM. This is\n   * automatically called on window load.\n   */\n  upgradeAllRegistered: function upgradeAllRegistered() {},\n\n  /**\n   * Allows user to be alerted to any upgrades that are performed for a given\n   * component type\n   *\n   * @param {string} jsClass The class name of the MDL component we wish\n   * to hook into for any upgrades performed.\n   * @param {function(!HTMLElement)} callback The function to call upon an\n   * upgrade. This function should expect 1 parameter - the HTMLElement which\n   * got upgraded.\n   */\n  registerUpgradedCallback: function registerUpgradedCallback(jsClass, callback) {},\n\n  /**\n   * Registers a class for future use and attempts to upgrade existing DOM.\n   *\n   * @param {componentHandler.ComponentConfigPublic} config the registration configuration\n   */\n  register: function register(config) {},\n\n  /**\n   * Downgrade either a given node, an array of nodes, or a NodeList.\n   *\n   * @param {!Node|!Array<!Node>|!NodeList} nodes\n   */\n  downgradeElements: function downgradeElements(nodes) {}\n};\n\ncomponentHandler = function () {\n  'use strict';\n  /** @type {!Array<componentHandler.ComponentConfig>} */\n\n  var registeredComponents_ = [];\n  /** @type {!Array<componentHandler.Component>} */\n\n  var createdComponents_ = [];\n  var componentConfigProperty_ = 'mdlComponentConfigInternal_';\n  /**\n   * Searches registered components for a class we are interested in using.\n   * Optionally replaces a match with passed object if specified.\n   *\n   * @param {string} name The name of a class we want to use.\n   * @param {componentHandler.ComponentConfig=} optReplace Optional object to replace match with.\n   * @return {!Object|boolean}\n   * @private\n   */\n\n  function findRegisteredClass_(name, optReplace) {\n    for (var i = 0; i < registeredComponents_.length; i++) {\n      if (registeredComponents_[i].className === name) {\n        if (typeof optReplace !== 'undefined') {\n          registeredComponents_[i] = optReplace;\n        }\n\n        return registeredComponents_[i];\n      }\n    }\n\n    return false;\n  }\n  /**\n   * Returns an array of the classNames of the upgraded classes on the element.\n   *\n   * @param {!Element} element The element to fetch data from.\n   * @return {!Array<string>}\n   * @private\n   */\n\n\n  function getUpgradedListOfElement_(element) {\n    var dataUpgraded = element.getAttribute('data-upgraded'); // Use `['']` as default value to conform the `,name,name...` style.\n\n    return dataUpgraded === null ? [''] : dataUpgraded.split(',');\n  }\n  /**\n   * Returns true if the given element has already been upgraded for the given\n   * class.\n   *\n   * @param {!Element} element The element we want to check.\n   * @param {string} jsClass The class to check for.\n   * @returns {boolean}\n   * @private\n   */\n\n\n  function isElementUpgraded_(element, jsClass) {\n    var upgradedList = getUpgradedListOfElement_(element);\n    return upgradedList.indexOf(jsClass) !== -1;\n  }\n  /**\n   * Create an event object.\n   *\n   * @param {string} eventType The type name of the event.\n   * @param {boolean} bubbles Whether the event should bubble up the DOM.\n   * @param {boolean} cancelable Whether the event can be canceled.\n   * @returns {!Event}\n   */\n\n\n  function createEvent_(eventType, bubbles, cancelable) {\n    if ('CustomEvent' in window && typeof window.CustomEvent === 'function') {\n      return new CustomEvent(eventType, {\n        bubbles: bubbles,\n        cancelable: cancelable\n      });\n    } else {\n      var ev = document.createEvent('Events');\n      ev.initEvent(eventType, bubbles, cancelable);\n      return ev;\n    }\n  }\n  /**\n   * Searches existing DOM for elements of our component type and upgrades them\n   * if they have not already been upgraded.\n   *\n   * @param {string=} optJsClass the programatic name of the element class we\n   * need to create a new instance of.\n   * @param {string=} optCssClass the name of the CSS class elements of this\n   * type will have.\n   */\n\n\n  function upgradeDomInternal(optJsClass, optCssClass) {\n    if (typeof optJsClass === 'undefined' && typeof optCssClass === 'undefined') {\n      for (var i = 0; i < registeredComponents_.length; i++) {\n        upgradeDomInternal(registeredComponents_[i].className, registeredComponents_[i].cssClass);\n      }\n    } else {\n      var jsClass =\n      /** @type {string} */\n      optJsClass;\n\n      if (typeof optCssClass === 'undefined') {\n        var registeredClass = findRegisteredClass_(jsClass);\n\n        if (registeredClass) {\n          optCssClass = registeredClass.cssClass;\n        }\n      }\n\n      var elements = document.querySelectorAll('.' + optCssClass);\n\n      for (var n = 0; n < elements.length; n++) {\n        upgradeElementInternal(elements[n], jsClass);\n      }\n    }\n  }\n  /**\n   * Upgrades a specific element rather than all in the DOM.\n   *\n   * @param {!Element} element The element we wish to upgrade.\n   * @param {string=} optJsClass Optional name of the class we want to upgrade\n   * the element to.\n   */\n\n\n  function upgradeElementInternal(element, optJsClass) {\n    // Verify argument type.\n    if (!(typeof element === 'object' && element instanceof Element)) {\n      throw new Error('Invalid argument provided to upgrade MDL element.');\n    } // Allow upgrade to be canceled by canceling emitted event.\n\n\n    var upgradingEv = createEvent_('mdl-componentupgrading', true, true);\n    element.dispatchEvent(upgradingEv);\n\n    if (upgradingEv.defaultPrevented) {\n      return;\n    }\n\n    var upgradedList = getUpgradedListOfElement_(element);\n    var classesToUpgrade = []; // If jsClass is not provided scan the registered components to find the\n    // ones matching the element's CSS classList.\n\n    if (!optJsClass) {\n      var classList = element.classList;\n      registeredComponents_.forEach(function (component) {\n        // Match CSS & Not to be upgraded & Not upgraded.\n        if (classList.contains(component.cssClass) && classesToUpgrade.indexOf(component) === -1 && !isElementUpgraded_(element, component.className)) {\n          classesToUpgrade.push(component);\n        }\n      });\n    } else if (!isElementUpgraded_(element, optJsClass)) {\n      classesToUpgrade.push(findRegisteredClass_(optJsClass));\n    } // Upgrade the element for each classes.\n\n\n    for (var i = 0, n = classesToUpgrade.length, registeredClass; i < n; i++) {\n      registeredClass = classesToUpgrade[i];\n\n      if (registeredClass) {\n        // Mark element as upgraded.\n        upgradedList.push(registeredClass.className);\n        element.setAttribute('data-upgraded', upgradedList.join(','));\n        var instance = new registeredClass.classConstructor(element);\n        instance[componentConfigProperty_] = registeredClass;\n        createdComponents_.push(instance); // Call any callbacks the user has registered with this component type.\n\n        for (var j = 0, m = registeredClass.callbacks.length; j < m; j++) {\n          registeredClass.callbacks[j](element);\n        }\n\n        if (registeredClass.widget) {\n          // Assign per element instance for control over API\n          element[registeredClass.className] = instance;\n        }\n      } else {\n        throw new Error('Unable to find a registered component for the given class.');\n      }\n\n      var upgradedEv = createEvent_('mdl-componentupgraded', true, false);\n      element.dispatchEvent(upgradedEv);\n    }\n  }\n  /**\n   * Upgrades a specific list of elements rather than all in the DOM.\n   *\n   * @param {!Element|!Array<!Element>|!NodeList|!HTMLCollection} elements\n   * The elements we wish to upgrade.\n   */\n\n\n  function upgradeElementsInternal(elements) {\n    if (!Array.isArray(elements)) {\n      if (elements instanceof Element) {\n        elements = [elements];\n      } else {\n        elements = Array.prototype.slice.call(elements);\n      }\n    }\n\n    for (var i = 0, n = elements.length, element; i < n; i++) {\n      element = elements[i];\n\n      if (element instanceof HTMLElement) {\n        upgradeElementInternal(element);\n\n        if (element.children.length > 0) {\n          upgradeElementsInternal(element.children);\n        }\n      }\n    }\n  }\n  /**\n   * Registers a class for future use and attempts to upgrade existing DOM.\n   *\n   * @param {componentHandler.ComponentConfigPublic} config\n   */\n\n\n  function registerInternal(config) {\n    // In order to support both Closure-compiled and uncompiled code accessing\n    // this method, we need to allow for both the dot and array syntax for\n    // property access. You'll therefore see the `foo.bar || foo['bar']`\n    // pattern repeated across this method.\n    var widgetMissing = typeof config.widget === 'undefined' && typeof config['widget'] === 'undefined';\n    var widget = true;\n\n    if (!widgetMissing) {\n      widget = config.widget || config['widget'];\n    }\n\n    var newConfig =\n    /** @type {componentHandler.ComponentConfig} */\n    {\n      classConstructor: config.constructor || config['constructor'],\n      className: config.classAsString || config['classAsString'],\n      cssClass: config.cssClass || config['cssClass'],\n      widget: widget,\n      callbacks: []\n    };\n    registeredComponents_.forEach(function (item) {\n      if (item.cssClass === newConfig.cssClass) {\n        throw new Error('The provided cssClass has already been registered: ' + item.cssClass);\n      }\n\n      if (item.className === newConfig.className) {\n        throw new Error('The provided className has already been registered');\n      }\n    });\n\n    if (config.constructor.prototype.hasOwnProperty(componentConfigProperty_)) {\n      throw new Error('MDL component classes must not have ' + componentConfigProperty_ + ' defined as a property.');\n    }\n\n    var found = findRegisteredClass_(config.classAsString, newConfig);\n\n    if (!found) {\n      registeredComponents_.push(newConfig);\n    }\n  }\n  /**\n   * Allows user to be alerted to any upgrades that are performed for a given\n   * component type\n   *\n   * @param {string} jsClass The class name of the MDL component we wish\n   * to hook into for any upgrades performed.\n   * @param {function(!HTMLElement)} callback The function to call upon an\n   * upgrade. This function should expect 1 parameter - the HTMLElement which\n   * got upgraded.\n   */\n\n\n  function registerUpgradedCallbackInternal(jsClass, callback) {\n    var regClass = findRegisteredClass_(jsClass);\n\n    if (regClass) {\n      regClass.callbacks.push(callback);\n    }\n  }\n  /**\n   * Upgrades all registered components found in the current DOM. This is\n   * automatically called on window load.\n   */\n\n\n  function upgradeAllRegisteredInternal() {\n    for (var n = 0; n < registeredComponents_.length; n++) {\n      upgradeDomInternal(registeredComponents_[n].className);\n    }\n  }\n  /**\n   * Check the component for the downgrade method.\n   * Execute if found.\n   * Remove component from createdComponents list.\n   *\n   * @param {?componentHandler.Component} component\n   */\n\n\n  function deconstructComponentInternal(component) {\n    if (component) {\n      var componentIndex = createdComponents_.indexOf(component);\n      createdComponents_.splice(componentIndex, 1);\n      var upgrades = component.element_.getAttribute('data-upgraded').split(',');\n      var componentPlace = upgrades.indexOf(component[componentConfigProperty_].classAsString);\n      upgrades.splice(componentPlace, 1);\n      component.element_.setAttribute('data-upgraded', upgrades.join(','));\n      var ev = createEvent_('mdl-componentdowngraded', true, false);\n      component.element_.dispatchEvent(ev);\n    }\n  }\n  /**\n   * Downgrade either a given node, an array of nodes, or a NodeList.\n   *\n   * @param {!Node|!Array<!Node>|!NodeList} nodes\n   */\n\n\n  function downgradeNodesInternal(nodes) {\n    /**\n     * Auxiliary function to downgrade a single node.\n     * @param  {!Node} node the node to be downgraded\n     */\n    var downgradeNode = function downgradeNode(node) {\n      createdComponents_.filter(function (item) {\n        return item.element_ === node;\n      }).forEach(deconstructComponentInternal);\n    };\n\n    if (nodes instanceof Array || nodes instanceof NodeList) {\n      for (var n = 0; n < nodes.length; n++) {\n        downgradeNode(nodes[n]);\n      }\n    } else if (nodes instanceof Node) {\n      downgradeNode(nodes);\n    } else {\n      throw new Error('Invalid argument provided to downgrade MDL nodes.');\n    }\n  } // Now return the functions that should be made public with their publicly\n  // facing names...\n\n\n  return {\n    upgradeDom: upgradeDomInternal,\n    upgradeElement: upgradeElementInternal,\n    upgradeElements: upgradeElementsInternal,\n    upgradeAllRegistered: upgradeAllRegisteredInternal,\n    registerUpgradedCallback: registerUpgradedCallbackInternal,\n    register: registerInternal,\n    downgradeElements: downgradeNodesInternal\n  };\n}();\n/**\n * Describes the type of a registered component type managed by\n * componentHandler. Provided for benefit of the Closure compiler.\n *\n * @typedef {{\n *   constructor: Function,\n *   classAsString: string,\n *   cssClass: string,\n *   widget: (string|boolean|undefined)\n * }}\n */\n\n\ncomponentHandler.ComponentConfigPublic; // jshint ignore:line\n\n/**\n * Describes the type of a registered component type managed by\n * componentHandler. Provided for benefit of the Closure compiler.\n *\n * @typedef {{\n *   constructor: !Function,\n *   className: string,\n *   cssClass: string,\n *   widget: (string|boolean),\n *   callbacks: !Array<function(!HTMLElement)>\n * }}\n */\n\ncomponentHandler.ComponentConfig; // jshint ignore:line\n\n/**\n * Created component (i.e., upgraded element) type as managed by\n * componentHandler. Provided for benefit of the Closure compiler.\n *\n * @typedef {{\n *   element_: !HTMLElement,\n *   className: string,\n *   classAsString: string,\n *   cssClass: string,\n *   widget: string\n * }}\n */\n\ncomponentHandler.Component; // jshint ignore:line\n// Export all symbols, for the benefit of Closure compiler.\n// No effect on uncompiled code.\n\ncomponentHandler['upgradeDom'] = componentHandler.upgradeDom;\ncomponentHandler['upgradeElement'] = componentHandler.upgradeElement;\ncomponentHandler['upgradeElements'] = componentHandler.upgradeElements;\ncomponentHandler['upgradeAllRegistered'] = componentHandler.upgradeAllRegistered;\ncomponentHandler['registerUpgradedCallback'] = componentHandler.registerUpgradedCallback;\ncomponentHandler['register'] = componentHandler.register;\ncomponentHandler['downgradeElements'] = componentHandler.downgradeElements;\nwindow.componentHandler = componentHandler;\nwindow['componentHandler'] = componentHandler;\nwindow.addEventListener('load', function () {\n  'use strict';\n  /**\n   * Performs a \"Cutting the mustard\" test. If the browser supports the features\n   * tested, adds a mdl-js class to the <html> element. It then upgrades all MDL\n   * components requiring JavaScript.\n   */\n\n  if ('classList' in document.createElement('div') && 'querySelector' in document && 'addEventListener' in window && Array.prototype.forEach) {\n    document.documentElement.classList.add('mdl-js');\n    componentHandler.upgradeAllRegistered();\n  } else {\n    /**\n     * Dummy function to avoid JS errors.\n     */\n    componentHandler.upgradeElement = function () {};\n    /**\n     * Dummy function to avoid JS errors.\n     */\n\n\n    componentHandler.register = function () {};\n  }\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n(function () {\n  'use strict';\n  /**\n   * Class constructor for Spinner MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @param {HTMLElement} element The element that will be upgraded.\n   * @constructor\n   */\n\n  var MaterialSpinner = function MaterialSpinner(element) {\n    this.element_ = element; // Initialize instance.\n\n    this.init();\n  };\n\n  window['MaterialSpinner'] = MaterialSpinner;\n  /**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\n\n  MaterialSpinner.prototype.Constant_ = {\n    MDL_SPINNER_LAYER_COUNT: 4\n  };\n  /**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\n\n  MaterialSpinner.prototype.CssClasses_ = {\n    MDL_SPINNER_LAYER: 'mdl-spinner__layer',\n    MDL_SPINNER_CIRCLE_CLIPPER: 'mdl-spinner__circle-clipper',\n    MDL_SPINNER_CIRCLE: 'mdl-spinner__circle',\n    MDL_SPINNER_GAP_PATCH: 'mdl-spinner__gap-patch',\n    MDL_SPINNER_LEFT: 'mdl-spinner__left',\n    MDL_SPINNER_RIGHT: 'mdl-spinner__right'\n  };\n  /**\n   * Auxiliary method to create a spinner layer.\n   *\n   * @param {number} index Index of the layer to be created.\n   * @public\n   */\n\n  MaterialSpinner.prototype.createLayer = function (index) {\n    var layer = document.createElement('div');\n    layer.classList.add(this.CssClasses_.MDL_SPINNER_LAYER);\n    layer.classList.add(this.CssClasses_.MDL_SPINNER_LAYER + '-' + index);\n    var leftClipper = document.createElement('div');\n    leftClipper.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER);\n    leftClipper.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);\n    var gapPatch = document.createElement('div');\n    gapPatch.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);\n    var rightClipper = document.createElement('div');\n    rightClipper.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER);\n    rightClipper.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);\n    var circleOwners = [leftClipper, gapPatch, rightClipper];\n\n    for (var i = 0; i < circleOwners.length; i++) {\n      var circle = document.createElement('div');\n      circle.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE);\n      circleOwners[i].appendChild(circle);\n    }\n\n    layer.appendChild(leftClipper);\n    layer.appendChild(gapPatch);\n    layer.appendChild(rightClipper);\n    this.element_.appendChild(layer);\n  };\n\n  MaterialSpinner.prototype['createLayer'] = MaterialSpinner.prototype.createLayer;\n  /**\n   * Stops the spinner animation.\n   * Public method for users who need to stop the spinner for any reason.\n   *\n   * @public\n   */\n\n  MaterialSpinner.prototype.stop = function () {\n    this.element_.classList.remove('is-active');\n  };\n\n  MaterialSpinner.prototype['stop'] = MaterialSpinner.prototype.stop;\n  /**\n   * Starts the spinner animation.\n   * Public method for users who need to manually start the spinner for any reason\n   * (instead of just adding the 'is-active' class to their markup).\n   *\n   * @public\n   */\n\n  MaterialSpinner.prototype.start = function () {\n    this.element_.classList.add('is-active');\n  };\n\n  MaterialSpinner.prototype['start'] = MaterialSpinner.prototype.start;\n  /**\n   * Initialize element.\n   */\n\n  MaterialSpinner.prototype.init = function () {\n    if (this.element_) {\n      for (var i = 1; i <= this.Constant_.MDL_SPINNER_LAYER_COUNT; i++) {\n        this.createLayer(i);\n      }\n\n      this.element_.classList.add('is-upgraded');\n    }\n  }; // The component registers itself. It can assume componentHandler is available\n  // in the global scope.\n\n\n  componentHandler.register({\n    constructor: MaterialSpinner,\n    classAsString: 'MaterialSpinner',\n    cssClass: 'mdl-js-spinner',\n    widget: true\n  });\n})();","import React from \"react\";\nimport { css } from \"@emotion/core\";\nimport { Link } from \"gatsby\";\nimport { rhythm } from \"../utils/typography\";\n\nexport default function ArticleList({ edges, isFirebase }) {\n  if (isFirebase) {\n    return edges.map(({ node }, i) => (\n      <div key={i}>\n        <a\n          href={node.fields.slug}\n          css={css`\n            text-decoration: none;\n            color: inherit;\n          `}\n        >\n          <h3\n            css={css`\n              margin-bottom: ${rhythm(1 / 4)};\n            `}\n          >\n            {node.frontmatter.title}{\" \"}\n            <span\n              css={css`\n                color: #555;\n              `}\n            >\n              — {node.frontmatter.date.replace(\",\", \"\")}\n            </span>\n          </h3>\n          {node.frontmatter.by && <p>By: {node.frontmatter.by}</p>}\n          <p>{node.excerpt}</p>\n        </a>\n      </div>\n    ));\n  } else {\n    return edges.map(({ node }, i) => (\n      <div key={i}>\n        <Link\n          to={node.fields.slug}\n          css={css`\n            text-decoration: none;\n            color: inherit;\n          `}\n        >\n          <h3\n            css={css`\n              margin-bottom: ${rhythm(1 / 4)};\n            `}\n          >\n            {node.frontmatter.title}{\" \"}\n            <span\n              css={css`\n                color: #555;\n              `}\n            >\n              — {node.frontmatter.date.replace(\",\", \"\")}\n            </span>\n          </h3>\n          {node.frontmatter.by && <p>By: {node.frontmatter.by}</p>}\n          <p>{node.excerpt}</p>\n        </Link>\n      </div>\n    ));\n  }\n}\n","require(\"core-js/modules/es6.function.bind\");\n\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n(function () {\n  'use strict';\n  /**\n   * Class constructor for Button MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\n\n  var MaterialButton = function MaterialButton(element) {\n    this.element_ = element; // Initialize instance.\n\n    this.init();\n  };\n\n  window['MaterialButton'] = MaterialButton;\n  /**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\n\n  MaterialButton.prototype.Constant_ = {// None for now.\n  };\n  /**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\n\n  MaterialButton.prototype.CssClasses_ = {\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_CONTAINER: 'mdl-button__ripple-container',\n    RIPPLE: 'mdl-ripple'\n  };\n  /**\n   * Handle blur of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\n\n  MaterialButton.prototype.blurHandler_ = function (event) {\n    if (event) {\n      this.element_.blur();\n    }\n  }; // Public methods.\n\n  /**\n   * Disable button.\n   *\n   * @public\n   */\n\n\n  MaterialButton.prototype.disable = function () {\n    this.element_.disabled = true;\n  };\n\n  MaterialButton.prototype['disable'] = MaterialButton.prototype.disable;\n  /**\n   * Enable button.\n   *\n   * @public\n   */\n\n  MaterialButton.prototype.enable = function () {\n    this.element_.disabled = false;\n  };\n\n  MaterialButton.prototype['enable'] = MaterialButton.prototype.enable;\n  /**\n   * Initialize element.\n   */\n\n  MaterialButton.prototype.init = function () {\n    if (this.element_) {\n      if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n        var rippleContainer = document.createElement('span');\n        rippleContainer.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n        this.rippleElement_ = document.createElement('span');\n        this.rippleElement_.classList.add(this.CssClasses_.RIPPLE);\n        rippleContainer.appendChild(this.rippleElement_);\n        this.boundRippleBlurHandler = this.blurHandler_.bind(this);\n        this.rippleElement_.addEventListener('mouseup', this.boundRippleBlurHandler);\n        this.element_.appendChild(rippleContainer);\n      }\n\n      this.boundButtonBlurHandler = this.blurHandler_.bind(this);\n      this.element_.addEventListener('mouseup', this.boundButtonBlurHandler);\n      this.element_.addEventListener('mouseleave', this.boundButtonBlurHandler);\n    }\n  }; // The component registers itself. It can assume componentHandler is available\n  // in the global scope.\n\n\n  componentHandler.register({\n    constructor: MaterialButton,\n    classAsString: 'MaterialButton',\n    cssClass: 'mdl-js-button',\n    widget: true\n  });\n})();","require(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\n(function () {\n  // nb. This is for IE10 and lower _only_.\n  var supportCustomEvent = window.CustomEvent;\n\n  if (!supportCustomEvent || typeof supportCustomEvent === 'object') {\n    supportCustomEvent = function CustomEvent(event, x) {\n      x = x || {};\n      var ev = document.createEvent('CustomEvent');\n      ev.initCustomEvent(event, !!x.bubbles, !!x.cancelable, x.detail || null);\n      return ev;\n    };\n\n    supportCustomEvent.prototype = window.Event.prototype;\n  }\n  /**\n   * @param {Element} el to check for stacking context\n   * @return {boolean} whether this el or its parents creates a stacking context\n   */\n\n\n  function createsStackingContext(el) {\n    while (el && el !== document.body) {\n      var s = window.getComputedStyle(el);\n\n      var invalid = function invalid(k, ok) {\n        return !(s[k] === undefined || s[k] === ok);\n      };\n\n      if (s.opacity < 1 || invalid('zIndex', 'auto') || invalid('transform', 'none') || invalid('mixBlendMode', 'normal') || invalid('filter', 'none') || invalid('perspective', 'none') || s['isolation'] === 'isolate' || s.position === 'fixed' || s.webkitOverflowScrolling === 'touch') {\n        return true;\n      }\n\n      el = el.parentElement;\n    }\n\n    return false;\n  }\n  /**\n   * Finds the nearest <dialog> from the passed element.\n   *\n   * @param {Element} el to search from\n   * @return {HTMLDialogElement} dialog found\n   */\n\n\n  function findNearestDialog(el) {\n    while (el) {\n      if (el.localName === 'dialog') {\n        return (\n          /** @type {HTMLDialogElement} */\n          el\n        );\n      }\n\n      el = el.parentElement;\n    }\n\n    return null;\n  }\n  /**\n   * Blur the specified element, as long as it's not the HTML body element.\n   * This works around an IE9/10 bug - blurring the body causes Windows to\n   * blur the whole application.\n   *\n   * @param {Element} el to blur\n   */\n\n\n  function safeBlur(el) {\n    if (el && el.blur && el !== document.body) {\n      el.blur();\n    }\n  }\n  /**\n   * @param {!NodeList} nodeList to search\n   * @param {Node} node to find\n   * @return {boolean} whether node is inside nodeList\n   */\n\n\n  function inNodeList(nodeList, node) {\n    for (var i = 0; i < nodeList.length; ++i) {\n      if (nodeList[i] === node) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n   * @param {HTMLFormElement} el to check\n   * @return {boolean} whether this form has method=\"dialog\"\n   */\n\n\n  function isFormMethodDialog(el) {\n    if (!el || !el.hasAttribute('method')) {\n      return false;\n    }\n\n    return el.getAttribute('method').toLowerCase() === 'dialog';\n  }\n  /**\n   * @param {!HTMLDialogElement} dialog to upgrade\n   * @constructor\n   */\n\n\n  function dialogPolyfillInfo(dialog) {\n    this.dialog_ = dialog;\n    this.replacedStyleTop_ = false;\n    this.openAsModal_ = false; // Set a11y role. Browsers that support dialog implicitly know this already.\n\n    if (!dialog.hasAttribute('role')) {\n      dialog.setAttribute('role', 'dialog');\n    }\n\n    dialog.show = this.show.bind(this);\n    dialog.showModal = this.showModal.bind(this);\n    dialog.close = this.close.bind(this);\n\n    if (!('returnValue' in dialog)) {\n      dialog.returnValue = '';\n    }\n\n    if ('MutationObserver' in window) {\n      var mo = new MutationObserver(this.maybeHideModal.bind(this));\n      mo.observe(dialog, {\n        attributes: true,\n        attributeFilter: ['open']\n      });\n    } else {\n      // IE10 and below support. Note that DOMNodeRemoved etc fire _before_ removal. They also\n      // seem to fire even if the element was removed as part of a parent removal. Use the removed\n      // events to force downgrade (useful if removed/immediately added).\n      var removed = false;\n\n      var cb = function () {\n        removed ? this.downgradeModal() : this.maybeHideModal();\n        removed = false;\n      }.bind(this);\n\n      var timeout;\n\n      var delayModel = function delayModel(ev) {\n        if (ev.target !== dialog) {\n          return;\n        } // not for a child element\n\n\n        var cand = 'DOMNodeRemoved';\n        removed |= ev.type.substr(0, cand.length) === cand;\n        window.clearTimeout(timeout);\n        timeout = window.setTimeout(cb, 0);\n      };\n\n      ['DOMAttrModified', 'DOMNodeRemoved', 'DOMNodeRemovedFromDocument'].forEach(function (name) {\n        dialog.addEventListener(name, delayModel);\n      });\n    } // Note that the DOM is observed inside DialogManager while any dialog\n    // is being displayed as a modal, to catch modal removal from the DOM.\n\n\n    Object.defineProperty(dialog, 'open', {\n      set: this.setOpen.bind(this),\n      get: dialog.hasAttribute.bind(dialog, 'open')\n    });\n    this.backdrop_ = document.createElement('div');\n    this.backdrop_.className = 'backdrop';\n    this.backdrop_.addEventListener('click', this.backdropClick_.bind(this));\n  }\n\n  dialogPolyfillInfo.prototype = {\n    get dialog() {\n      return this.dialog_;\n    },\n\n    /**\n     * Maybe remove this dialog from the modal top layer. This is called when\n     * a modal dialog may no longer be tenable, e.g., when the dialog is no\n     * longer open or is no longer part of the DOM.\n     */\n    maybeHideModal: function maybeHideModal() {\n      if (this.dialog_.hasAttribute('open') && document.body.contains(this.dialog_)) {\n        return;\n      }\n\n      this.downgradeModal();\n    },\n\n    /**\n     * Remove this dialog from the modal top layer, leaving it as a non-modal.\n     */\n    downgradeModal: function downgradeModal() {\n      if (!this.openAsModal_) {\n        return;\n      }\n\n      this.openAsModal_ = false;\n      this.dialog_.style.zIndex = ''; // This won't match the native <dialog> exactly because if the user set top on a centered\n      // polyfill dialog, that top gets thrown away when the dialog is closed. Not sure it's\n      // possible to polyfill this perfectly.\n\n      if (this.replacedStyleTop_) {\n        this.dialog_.style.top = '';\n        this.replacedStyleTop_ = false;\n      } // Clear the backdrop and remove from the manager.\n\n\n      this.backdrop_.parentNode && this.backdrop_.parentNode.removeChild(this.backdrop_);\n      dialogPolyfill.dm.removeDialog(this);\n    },\n\n    /**\n     * @param {boolean} value whether to open or close this dialog\n     */\n    setOpen: function setOpen(value) {\n      if (value) {\n        this.dialog_.hasAttribute('open') || this.dialog_.setAttribute('open', '');\n      } else {\n        this.dialog_.removeAttribute('open');\n        this.maybeHideModal(); // nb. redundant with MutationObserver\n      }\n    },\n\n    /**\n     * Handles clicks on the fake .backdrop element, redirecting them as if\n     * they were on the dialog itself.\n     *\n     * @param {!Event} e to redirect\n     */\n    backdropClick_: function backdropClick_(e) {\n      if (!this.dialog_.hasAttribute('tabindex')) {\n        // Clicking on the backdrop should move the implicit cursor, even if dialog cannot be\n        // focused. Create a fake thing to focus on. If the backdrop was _before_ the dialog, this\n        // would not be needed - clicks would move the implicit cursor there.\n        var fake = document.createElement('div');\n        this.dialog_.insertBefore(fake, this.dialog_.firstChild);\n        fake.tabIndex = -1;\n        fake.focus();\n        this.dialog_.removeChild(fake);\n      } else {\n        this.dialog_.focus();\n      }\n\n      var redirectedEvent = document.createEvent('MouseEvents');\n      redirectedEvent.initMouseEvent(e.type, e.bubbles, e.cancelable, window, e.detail, e.screenX, e.screenY, e.clientX, e.clientY, e.ctrlKey, e.altKey, e.shiftKey, e.metaKey, e.button, e.relatedTarget);\n      this.dialog_.dispatchEvent(redirectedEvent);\n      e.stopPropagation();\n    },\n\n    /**\n     * Focuses on the first focusable element within the dialog. This will always blur the current\n     * focus, even if nothing within the dialog is found.\n     */\n    focus_: function focus_() {\n      // Find element with `autofocus` attribute, or fall back to the first form/tabindex control.\n      var target = this.dialog_.querySelector('[autofocus]:not([disabled])');\n\n      if (!target && this.dialog_.tabIndex >= 0) {\n        target = this.dialog_;\n      }\n\n      if (!target) {\n        // Note that this is 'any focusable area'. This list is probably not exhaustive, but the\n        // alternative involves stepping through and trying to focus everything.\n        var opts = ['button', 'input', 'keygen', 'select', 'textarea'];\n        var query = opts.map(function (el) {\n          return el + ':not([disabled])';\n        }); // TODO(samthor): tabindex values that are not numeric are not focusable.\n\n        query.push('[tabindex]:not([disabled]):not([tabindex=\"\"])'); // tabindex != \"\", not disabled\n\n        target = this.dialog_.querySelector(query.join(', '));\n      }\n\n      safeBlur(document.activeElement);\n      target && target.focus();\n    },\n\n    /**\n     * Sets the zIndex for the backdrop and dialog.\n     *\n     * @param {number} dialogZ\n     * @param {number} backdropZ\n     */\n    updateZIndex: function updateZIndex(dialogZ, backdropZ) {\n      if (dialogZ < backdropZ) {\n        throw new Error('dialogZ should never be < backdropZ');\n      }\n\n      this.dialog_.style.zIndex = dialogZ;\n      this.backdrop_.style.zIndex = backdropZ;\n    },\n\n    /**\n     * Shows the dialog. If the dialog is already open, this does nothing.\n     */\n    show: function show() {\n      if (!this.dialog_.open) {\n        this.setOpen(true);\n        this.focus_();\n      }\n    },\n\n    /**\n     * Show this dialog modally.\n     */\n    showModal: function showModal() {\n      if (this.dialog_.hasAttribute('open')) {\n        throw new Error('Failed to execute \\'showModal\\' on dialog: The element is already open, and therefore cannot be opened modally.');\n      }\n\n      if (!document.body.contains(this.dialog_)) {\n        throw new Error('Failed to execute \\'showModal\\' on dialog: The element is not in a Document.');\n      }\n\n      if (!dialogPolyfill.dm.pushDialog(this)) {\n        throw new Error('Failed to execute \\'showModal\\' on dialog: There are too many open modal dialogs.');\n      }\n\n      if (createsStackingContext(this.dialog_.parentElement)) {\n        console.warn('A dialog is being shown inside a stacking context. ' + 'This may cause it to be unusable. For more information, see this link: ' + 'https://github.com/GoogleChrome/dialog-polyfill/#stacking-context');\n      }\n\n      this.setOpen(true);\n      this.openAsModal_ = true; // Optionally center vertically, relative to the current viewport.\n\n      if (dialogPolyfill.needsCentering(this.dialog_)) {\n        dialogPolyfill.reposition(this.dialog_);\n        this.replacedStyleTop_ = true;\n      } else {\n        this.replacedStyleTop_ = false;\n      } // Insert backdrop.\n\n\n      this.dialog_.parentNode.insertBefore(this.backdrop_, this.dialog_.nextSibling); // Focus on whatever inside the dialog.\n\n      this.focus_();\n    },\n\n    /**\n     * Closes this HTMLDialogElement. This is optional vs clearing the open\n     * attribute, however this fires a 'close' event.\n     *\n     * @param {string=} opt_returnValue to use as the returnValue\n     */\n    close: function close(opt_returnValue) {\n      if (!this.dialog_.hasAttribute('open')) {\n        throw new Error('Failed to execute \\'close\\' on dialog: The element does not have an \\'open\\' attribute, and therefore cannot be closed.');\n      }\n\n      this.setOpen(false); // Leave returnValue untouched in case it was set directly on the element\n\n      if (opt_returnValue !== undefined) {\n        this.dialog_.returnValue = opt_returnValue;\n      } // Triggering \"close\" event for any attached listeners on the <dialog>.\n\n\n      var closeEvent = new supportCustomEvent('close', {\n        bubbles: false,\n        cancelable: false\n      });\n      this.dialog_.dispatchEvent(closeEvent);\n    }\n  };\n  var dialogPolyfill = {};\n\n  dialogPolyfill.reposition = function (element) {\n    var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n    var topValue = scrollTop + (window.innerHeight - element.offsetHeight) / 2;\n    element.style.top = Math.max(scrollTop, topValue) + 'px';\n  };\n\n  dialogPolyfill.isInlinePositionSetByStylesheet = function (element) {\n    for (var i = 0; i < document.styleSheets.length; ++i) {\n      var styleSheet = document.styleSheets[i];\n      var cssRules = null; // Some browsers throw on cssRules.\n\n      try {\n        cssRules = styleSheet.cssRules;\n      } catch (e) {}\n\n      if (!cssRules) {\n        continue;\n      }\n\n      for (var j = 0; j < cssRules.length; ++j) {\n        var rule = cssRules[j];\n        var selectedNodes = null; // Ignore errors on invalid selector texts.\n\n        try {\n          selectedNodes = document.querySelectorAll(rule.selectorText);\n        } catch (e) {}\n\n        if (!selectedNodes || !inNodeList(selectedNodes, element)) {\n          continue;\n        }\n\n        var cssTop = rule.style.getPropertyValue('top');\n        var cssBottom = rule.style.getPropertyValue('bottom');\n\n        if (cssTop && cssTop !== 'auto' || cssBottom && cssBottom !== 'auto') {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  };\n\n  dialogPolyfill.needsCentering = function (dialog) {\n    var computedStyle = window.getComputedStyle(dialog);\n\n    if (computedStyle.position !== 'absolute') {\n      return false;\n    } // We must determine whether the top/bottom specified value is non-auto.  In\n    // WebKit/Blink, checking computedStyle.top == 'auto' is sufficient, but\n    // Firefox returns the used value. So we do this crazy thing instead: check\n    // the inline style and then go through CSS rules.\n\n\n    if (dialog.style.top !== 'auto' && dialog.style.top !== '' || dialog.style.bottom !== 'auto' && dialog.style.bottom !== '') {\n      return false;\n    }\n\n    return !dialogPolyfill.isInlinePositionSetByStylesheet(dialog);\n  };\n  /**\n   * @param {!Element} element to force upgrade\n   */\n\n\n  dialogPolyfill.forceRegisterDialog = function (element) {\n    if (window.HTMLDialogElement || element.showModal) {\n      console.warn('This browser already supports <dialog>, the polyfill ' + 'may not work correctly', element);\n    }\n\n    if (element.localName !== 'dialog') {\n      throw new Error('Failed to register dialog: The element is not a dialog.');\n    }\n\n    new dialogPolyfillInfo(\n    /** @type {!HTMLDialogElement} */\n    element);\n  };\n  /**\n   * @param {!Element} element to upgrade, if necessary\n   */\n\n\n  dialogPolyfill.registerDialog = function (element) {\n    if (!element.showModal) {\n      dialogPolyfill.forceRegisterDialog(element);\n    }\n  };\n  /**\n   * @constructor\n   */\n\n\n  dialogPolyfill.DialogManager = function () {\n    /** @type {!Array<!dialogPolyfillInfo>} */\n    this.pendingDialogStack = [];\n    var checkDOM = this.checkDOM_.bind(this); // The overlay is used to simulate how a modal dialog blocks the document.\n    // The blocking dialog is positioned on top of the overlay, and the rest of\n    // the dialogs on the pending dialog stack are positioned below it. In the\n    // actual implementation, the modal dialog stacking is controlled by the\n    // top layer, where z-index has no effect.\n\n    this.overlay = document.createElement('div');\n    this.overlay.className = '_dialog_overlay';\n    this.overlay.addEventListener('click', function (e) {\n      this.forwardTab_ = undefined;\n      e.stopPropagation();\n      checkDOM([]); // sanity-check DOM\n    }.bind(this));\n    this.handleKey_ = this.handleKey_.bind(this);\n    this.handleFocus_ = this.handleFocus_.bind(this);\n    this.zIndexLow_ = 100000;\n    this.zIndexHigh_ = 100000 + 150;\n    this.forwardTab_ = undefined;\n\n    if ('MutationObserver' in window) {\n      this.mo_ = new MutationObserver(function (records) {\n        var removed = [];\n        records.forEach(function (rec) {\n          for (var i = 0, c; c = rec.removedNodes[i]; ++i) {\n            if (!(c instanceof Element)) {\n              continue;\n            } else if (c.localName === 'dialog') {\n              removed.push(c);\n            }\n\n            removed = removed.concat(c.querySelectorAll('dialog'));\n          }\n        });\n        removed.length && checkDOM(removed);\n      });\n    }\n  };\n  /**\n   * Called on the first modal dialog being shown. Adds the overlay and related\n   * handlers.\n   */\n\n\n  dialogPolyfill.DialogManager.prototype.blockDocument = function () {\n    document.documentElement.addEventListener('focus', this.handleFocus_, true);\n    document.addEventListener('keydown', this.handleKey_);\n    this.mo_ && this.mo_.observe(document, {\n      childList: true,\n      subtree: true\n    });\n  };\n  /**\n   * Called on the first modal dialog being removed, i.e., when no more modal\n   * dialogs are visible.\n   */\n\n\n  dialogPolyfill.DialogManager.prototype.unblockDocument = function () {\n    document.documentElement.removeEventListener('focus', this.handleFocus_, true);\n    document.removeEventListener('keydown', this.handleKey_);\n    this.mo_ && this.mo_.disconnect();\n  };\n  /**\n   * Updates the stacking of all known dialogs.\n   */\n\n\n  dialogPolyfill.DialogManager.prototype.updateStacking = function () {\n    var zIndex = this.zIndexHigh_;\n\n    for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n      dpi.updateZIndex(--zIndex, --zIndex);\n\n      if (i === 0) {\n        this.overlay.style.zIndex = --zIndex;\n      }\n    } // Make the overlay a sibling of the dialog itself.\n\n\n    var last = this.pendingDialogStack[0];\n\n    if (last) {\n      var p = last.dialog.parentNode || document.body;\n      p.appendChild(this.overlay);\n    } else if (this.overlay.parentNode) {\n      this.overlay.parentNode.removeChild(this.overlay);\n    }\n  };\n  /**\n   * @param {Element} candidate to check if contained or is the top-most modal dialog\n   * @return {boolean} whether candidate is contained in top dialog\n   */\n\n\n  dialogPolyfill.DialogManager.prototype.containedByTopDialog_ = function (candidate) {\n    while (candidate = findNearestDialog(candidate)) {\n      for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n        if (dpi.dialog === candidate) {\n          return i === 0; // only valid if top-most\n        }\n      }\n\n      candidate = candidate.parentElement;\n    }\n\n    return false;\n  };\n\n  dialogPolyfill.DialogManager.prototype.handleFocus_ = function (event) {\n    if (this.containedByTopDialog_(event.target)) {\n      return;\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n    safeBlur(\n    /** @type {Element} */\n    event.target);\n\n    if (this.forwardTab_ === undefined) {\n      return;\n    } // move focus only from a tab key\n\n\n    var dpi = this.pendingDialogStack[0];\n    var dialog = dpi.dialog;\n    var position = dialog.compareDocumentPosition(event.target);\n\n    if (position & Node.DOCUMENT_POSITION_PRECEDING) {\n      if (this.forwardTab_) {\n        // forward\n        dpi.focus_();\n      } else {\n        // backwards\n        document.documentElement.focus();\n      }\n    } else {// TODO: Focus after the dialog, is ignored.\n    }\n\n    return false;\n  };\n\n  dialogPolyfill.DialogManager.prototype.handleKey_ = function (event) {\n    this.forwardTab_ = undefined;\n\n    if (event.keyCode === 27) {\n      event.preventDefault();\n      event.stopPropagation();\n      var cancelEvent = new supportCustomEvent('cancel', {\n        bubbles: false,\n        cancelable: true\n      });\n      var dpi = this.pendingDialogStack[0];\n\n      if (dpi && dpi.dialog.dispatchEvent(cancelEvent)) {\n        dpi.dialog.close();\n      }\n    } else if (event.keyCode === 9) {\n      this.forwardTab_ = !event.shiftKey;\n    }\n  };\n  /**\n   * Finds and downgrades any known modal dialogs that are no longer displayed. Dialogs that are\n   * removed and immediately readded don't stay modal, they become normal.\n   *\n   * @param {!Array<!HTMLDialogElement>} removed that have definitely been removed\n   */\n\n\n  dialogPolyfill.DialogManager.prototype.checkDOM_ = function (removed) {\n    // This operates on a clone because it may cause it to change. Each change also calls\n    // updateStacking, which only actually needs to happen once. But who removes many modal dialogs\n    // at a time?!\n    var clone = this.pendingDialogStack.slice();\n    clone.forEach(function (dpi) {\n      if (removed.indexOf(dpi.dialog) !== -1) {\n        dpi.downgradeModal();\n      } else {\n        dpi.maybeHideModal();\n      }\n    });\n  };\n  /**\n   * @param {!dialogPolyfillInfo} dpi\n   * @return {boolean} whether the dialog was allowed\n   */\n\n\n  dialogPolyfill.DialogManager.prototype.pushDialog = function (dpi) {\n    var allowed = (this.zIndexHigh_ - this.zIndexLow_) / 2 - 1;\n\n    if (this.pendingDialogStack.length >= allowed) {\n      return false;\n    }\n\n    if (this.pendingDialogStack.unshift(dpi) === 1) {\n      this.blockDocument();\n    }\n\n    this.updateStacking();\n    return true;\n  };\n  /**\n   * @param {!dialogPolyfillInfo} dpi\n   */\n\n\n  dialogPolyfill.DialogManager.prototype.removeDialog = function (dpi) {\n    var index = this.pendingDialogStack.indexOf(dpi);\n\n    if (index === -1) {\n      return;\n    }\n\n    this.pendingDialogStack.splice(index, 1);\n\n    if (this.pendingDialogStack.length === 0) {\n      this.unblockDocument();\n    }\n\n    this.updateStacking();\n  };\n\n  dialogPolyfill.dm = new dialogPolyfill.DialogManager();\n  dialogPolyfill.formSubmitter = null;\n  dialogPolyfill.useValue = null;\n  /**\n   * Installs global handlers, such as click listers and native method overrides. These are needed\n   * even if a no dialog is registered, as they deal with <form method=\"dialog\">.\n   */\n\n  if (window.HTMLDialogElement === undefined) {\n    /**\n     * If HTMLFormElement translates method=\"DIALOG\" into 'get', then replace the descriptor with\n     * one that returns the correct value.\n     */\n    var testForm = document.createElement('form');\n    testForm.setAttribute('method', 'dialog');\n\n    if (testForm.method !== 'dialog') {\n      var methodDescriptor = Object.getOwnPropertyDescriptor(HTMLFormElement.prototype, 'method');\n\n      if (methodDescriptor) {\n        // nb. Some older iOS and older PhantomJS fail to return the descriptor. Don't do anything\n        // and don't bother to update the element.\n        var realGet = methodDescriptor.get;\n\n        methodDescriptor.get = function () {\n          if (isFormMethodDialog(this)) {\n            return 'dialog';\n          }\n\n          return realGet.call(this);\n        };\n\n        var realSet = methodDescriptor.set;\n\n        methodDescriptor.set = function (v) {\n          if (typeof v === 'string' && v.toLowerCase() === 'dialog') {\n            return this.setAttribute('method', v);\n          }\n\n          return realSet.call(this, v);\n        };\n\n        Object.defineProperty(HTMLFormElement.prototype, 'method', methodDescriptor);\n      }\n    }\n    /**\n     * Global 'click' handler, to capture the <input type=\"submit\"> or <button> element which has\n     * submitted a <form method=\"dialog\">. Needed as Safari and others don't report this inside\n     * document.activeElement.\n     */\n\n\n    document.addEventListener('click', function (ev) {\n      dialogPolyfill.formSubmitter = null;\n      dialogPolyfill.useValue = null;\n\n      if (ev.defaultPrevented) {\n        return;\n      } // e.g. a submit which prevents default submission\n\n\n      var target =\n      /** @type {Element} */\n      ev.target;\n\n      if (!target || !isFormMethodDialog(target.form)) {\n        return;\n      }\n\n      var valid = target.type === 'submit' && ['button', 'input'].indexOf(target.localName) > -1;\n\n      if (!valid) {\n        if (!(target.localName === 'input' && target.type === 'image')) {\n          return;\n        } // this is a <input type=\"image\">, which can submit forms\n\n\n        dialogPolyfill.useValue = ev.offsetX + ',' + ev.offsetY;\n      }\n\n      var dialog = findNearestDialog(target);\n\n      if (!dialog) {\n        return;\n      }\n\n      dialogPolyfill.formSubmitter = target;\n    }, false);\n    /**\n     * Replace the native HTMLFormElement.submit() method, as it won't fire the\n     * submit event and give us a chance to respond.\n     */\n\n    var nativeFormSubmit = HTMLFormElement.prototype.submit;\n\n    var replacementFormSubmit = function replacementFormSubmit() {\n      if (!isFormMethodDialog(this)) {\n        return nativeFormSubmit.call(this);\n      }\n\n      var dialog = findNearestDialog(this);\n      dialog && dialog.close();\n    };\n\n    HTMLFormElement.prototype.submit = replacementFormSubmit;\n    /**\n     * Global form 'dialog' method handler. Closes a dialog correctly on submit\n     * and possibly sets its return value.\n     */\n\n    document.addEventListener('submit', function (ev) {\n      var form =\n      /** @type {HTMLFormElement} */\n      ev.target;\n\n      if (!isFormMethodDialog(form)) {\n        return;\n      }\n\n      ev.preventDefault();\n      var dialog = findNearestDialog(form);\n\n      if (!dialog) {\n        return;\n      } // Forms can only be submitted via .submit() or a click (?), but anyway: sanity-check that\n      // the submitter is correct before using its value as .returnValue.\n\n\n      var s = dialogPolyfill.formSubmitter;\n\n      if (s && s.form === form) {\n        dialog.close(dialogPolyfill.useValue || s.value);\n      } else {\n        dialog.close();\n      }\n\n      dialogPolyfill.formSubmitter = null;\n    }, true);\n  }\n\n  dialogPolyfill['forceRegisterDialog'] = dialogPolyfill.forceRegisterDialog;\n  dialogPolyfill['registerDialog'] = dialogPolyfill.registerDialog;\n\n  if (typeof define === 'function' && 'amd' in define) {\n    // AMD support\n    define(function () {\n      return dialogPolyfill;\n    });\n  } else if (typeof module === 'object' && typeof module['exports'] === 'object') {\n    // CommonJS support\n    module['exports'] = dialogPolyfill;\n  } else {\n    // all others\n    window['dialogPolyfill'] = dialogPolyfill;\n  }\n})();"],"sourceRoot":""}