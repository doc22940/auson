{"version":3,"sources":["webpack:///./src/components/PrivateRoute.js","webpack:///./src/pages/private.js","webpack:///./src/templates/blog-post.js"],"names":["PrivateRoute","location","name","pathname","split","isLoggedIn","useLoginStatus","useState","data","setData","useEffect","navigate","getPrivateArticle","then","basepath","path","Default","window","BlogPost","post","markdownRemark","frontmatter","title","by","dangerouslySetInnerHTML","__html","html","query"],"mappings":"sNAmCeA,EA3BM,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAChBC,EAAOD,EAASE,SAASC,MAAM,aAAa,GAC5CC,EAAaC,cAFkB,EAGbC,mBAAS,MAA1BC,EAH8B,KAGxBC,EAHwB,KAcrC,OATAC,qBAAU,WACR,IAAmB,IAAfL,GAAwB,MAAAJ,EAASE,SAEnC,OADAQ,YAAS,KACF,MACiB,IAAfN,GACTO,YAAkBV,GAAMW,MAAK,SAAAL,GAAI,OAAIC,EAAQD,SAK/C,uBACGA,EACC,YAAC,UAAD,CAAUA,KAAMA,IAEhB,YAAC,IAAD,KACE,sCCtBK,qBACb,OACE,YAAC,SAAD,CAAQM,SAAS,YACf,YAAC,EAAD,CAAcC,KAAK,OACnB,YAACC,EAAD,CAASD,KAAK,QAKpB,SAASC,IAIP,MAHsB,oBAAXC,QACTN,YAAS,KAEJ,O,kCCnBT,2HAIe,SAASO,EAAT,GAA6B,IACpCC,EADmC,EAARX,KACfY,eAClB,OACE,YAAC,IAAD,KACE,uBACE,sBAAKD,EAAKE,YAAYC,OACrBH,EAAKE,YAAYE,IAAM,4BAAQJ,EAAKE,YAAYE,IACjD,mBAAKC,wBAAyB,CAAEC,OAAQN,EAAKO,UAM9C,IAAMC,EAAK","file":"component---src-pages-private-js-9fc8f499cd948e763b1b.js","sourcesContent":["import BlogPost from \"../templates/blog-post\";\nimport React, { useEffect, useState } from \"react\";\nimport Layout from \"../components/layout\";\n\nimport useLoginStatus from \"../utils/useLoginStatus\";\nimport { getPrivateArticle } from \"../utils/getPrivate\";\nimport { navigate } from \"gatsby\";\n\nconst PrivateRoute = ({ location }) => {\n  const name = location.pathname.split(\"/private/\")[1];\n  const isLoggedIn = useLoginStatus();\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    if (isLoggedIn === false && location.pathname !== `/`) {\n      navigate(\"/\");\n      return null;\n    } else if (isLoggedIn === true) {\n      getPrivateArticle(name).then(data => setData(data));\n    }\n  });\n\n  return (\n    <div>\n      {data ? (\n        <BlogPost data={data} />\n      ) : (\n        <Layout>\n          <p>Loading...</p>\n        </Layout>\n      )}\n    </div>\n  );\n};\n\nexport default PrivateRoute;\n","import React from \"react\";\nimport { Router } from \"@reach/router\";\n\nimport PrivateRoute from \"../components/PrivateRoute\";\nimport { navigate } from \"gatsby\";\n\nexport default () => {\n  return (\n    <Router basepath=\"/private\">\n      <PrivateRoute path=\"/*\" />\n      <Default path=\"/\" />\n    </Router>\n  );\n};\n\nfunction Default() {\n  if (typeof window !== \"undefined\") {\n    navigate(\"/\");\n  }\n  return null;\n}\n","import React from \"react\";\nimport { graphql } from \"gatsby\";\nimport Layout from \"../components/layout\";\n\nexport default function BlogPost({ data }) {\n  const post = data.markdownRemark;\n  return (\n    <Layout>\n      <div>\n        <h1>{post.frontmatter.title}</h1>\n        {post.frontmatter.by && <p>By: {post.frontmatter.by}</p>}\n        <div dangerouslySetInnerHTML={{ __html: post.html }} />\n      </div>\n    </Layout>\n  );\n}\n\nexport const query = graphql`\n  query($slug: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      frontmatter {\n        title\n        by\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}