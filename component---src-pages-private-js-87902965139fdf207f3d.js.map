{"version":3,"sources":["webpack:///./src/components/PrivateRoute.js","webpack:///./src/pages/private.js","webpack:///./src/templates/blog-post.js"],"names":["PrivateRoute","location","name","pathname","split","isLoggedIn","useLoginStatus","useState","data","setData","useEffect","navigate","getPrivateArticle","then","catch","to","basepath","path","Default","window","BlogPost","post","markdownRemark","frontmatter","title","by","dangerouslySetInnerHTML","__html","html","query"],"mappings":"sNA4CeA,EAnCM,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAChBC,EAAOD,EAASE,SAASC,MAAM,aAAa,GAC5CC,EAAaC,cAFkB,EAGbC,mBAAS,MAA1BC,EAH8B,KAGxBC,EAHwB,KAerC,OAVAC,qBAAU,YACW,IAAfL,GAAwB,SAAAJ,EAASE,SACnCQ,YAAS,SACe,IAAfN,GACTO,YAAkBV,GACfW,MAAK,SAAAL,GAAI,OAAIC,EAAQD,MACrBM,OAAM,kBAAMH,YAAS,cAIxBH,EACK,YAAC,UAAD,CAAUA,KAAMA,IACC,OAAfH,EAEP,YAAC,IAAD,KACE,uEACkD,IAChD,YAAC,IAAD,CAAMU,GAAG,YAAT,QAFF,MAQF,YAAC,IAAD,KACE,qCChCO,qBACb,OACE,YAAC,SAAD,CAAQC,SAAS,YACf,YAAC,EAAD,CAAcC,KAAK,OACnB,YAACC,EAAD,CAASD,KAAK,QAKpB,SAASC,IAIP,MAHsB,oBAAXC,QACTR,YAAS,KAEJ,O,kCCnBT,2HAIe,SAASS,EAAT,GAA6B,IACpCC,EADmC,EAARb,KACfc,eAClB,OACE,YAAC,IAAD,KACE,uBACE,sBAAKD,EAAKE,YAAYC,OACrBH,EAAKE,YAAYE,IAAM,4BAAQJ,EAAKE,YAAYE,IACjD,mBAAKC,wBAAyB,CAAEC,OAAQN,EAAKO,UAM9C,IAAMC,EAAK","file":"component---src-pages-private-js-87902965139fdf207f3d.js","sourcesContent":["import BlogPost from \"../templates/blog-post\";\nimport React, { useEffect, useState } from \"react\";\nimport Layout from \"../components/layout\";\nimport { Link } from \"gatsby\";\n\nimport useLoginStatus from \"../utils/useLoginStatus\";\nimport { getPrivateArticle } from \"../utils/getPrivate\";\nimport { navigate } from \"gatsby\";\n\nconst PrivateRoute = ({ location }) => {\n  const name = location.pathname.split(\"/private/\")[1];\n  const isLoggedIn = useLoginStatus();\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    if (isLoggedIn === false && location.pathname !== `/404`) {\n      navigate(\"/404\");\n    } else if (isLoggedIn === true) {\n      getPrivateArticle(name)\n        .then(data => setData(data))\n        .catch(() => navigate(\"/404\"));\n    }\n  });\n\n  if (data) {\n    return <BlogPost data={data} />;\n  } else if (isLoggedIn === null) {\n    return (\n      <Layout>\n        <p>\n          This page requires you to be signed in. Sign in{\" \"}\n          <Link to=\"/#for-us\">here</Link>.\n        </p>\n      </Layout>\n    );\n  } else {\n    return (\n      <Layout>\n        <p>Loading...</p>\n      </Layout>\n    );\n  }\n};\n\nexport default PrivateRoute;\n","import React from \"react\";\nimport { Router } from \"@reach/router\";\n\nimport PrivateRoute from \"../components/PrivateRoute\";\nimport { navigate } from \"gatsby\";\n\nexport default () => {\n  return (\n    <Router basepath=\"/private\">\n      <PrivateRoute path=\"/*\" />\n      <Default path=\"/\" />\n    </Router>\n  );\n};\n\nfunction Default() {\n  if (typeof window !== \"undefined\") {\n    navigate(\"/\");\n  }\n  return null;\n}\n","import React from \"react\";\nimport { graphql } from \"gatsby\";\nimport Layout from \"../components/layout\";\n\nexport default function BlogPost({ data }) {\n  const post = data.markdownRemark;\n  return (\n    <Layout>\n      <div>\n        <h1>{post.frontmatter.title}</h1>\n        {post.frontmatter.by && <p>By: {post.frontmatter.by}</p>}\n        <div dangerouslySetInnerHTML={{ __html: post.html }} />\n      </div>\n    </Layout>\n  );\n}\n\nexport const query = graphql`\n  query($slug: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      frontmatter {\n        title\n        by\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}